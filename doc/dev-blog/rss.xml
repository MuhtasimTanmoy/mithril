<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/">
    <channel>
        <title>Mithril. A complete guide. Blog</title>
        <link>https://mithril.network/doc/dev-blog</link>
        <description>Mithril. A complete guide. Blog</description>
        <lastBuildDate>Tue, 13 Sep 2022 00:00:00 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>en</language>
        <item>
            <title><![CDATA[Stake Distribution retrieval fixed]]></title>
            <link>https://mithril.network/doc/dev-blog/2022/09/13/stake-distribution-retrieval</link>
            <guid>/2022/09/13/stake-distribution-retrieval</guid>
            <pubDate>Tue, 13 Sep 2022 00:00:00 GMT</pubDate>
            <description><![CDATA[The way the Mithril nodes retrieve the Stake Distribution is changing]]></description>
            <content:encoded><![CDATA[<h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-way-the-mithril-nodes-retrieve-the-stake-distribution-is-changing">The way the Mithril nodes retrieve the Stake Distribution is changing<a class="hash-link" href="#the-way-the-mithril-nodes-retrieve-the-stake-distribution-is-changing" title="Direct link to heading">​</a></h3><p><strong>PR</strong>: <code>Fix Stake Distribution retrieval</code> <a href="https://github.com/input-output-hk/mithril/pull/499" target="_blank" rel="noopener noreferrer">#499</a></p><p><strong>Issue</strong>: <code>Stake distribution discrepancy</code> <a href="https://github.com/input-output-hk/mithril/issues/497" target="_blank" rel="noopener noreferrer">#497</a></p><p>We have noticed that the way the Mithril nodes computed the <code>Stake Distribution</code> was erroneous: the epoch that was used to make the computation was the <strong>current epoch</strong> instead of the <strong>previous epoch</strong>. This has lead to some de-synchronization between the Signers and the hosted GCP Aggregator for a few epochs.</p><p>Indeed, the <code>Stake Distribution</code> retrieved from the Cardano node depended on the time at which it was done: the nodes where having differents values that prevented them from being able to work together to produce valid multi-signatures. The problem is related to the epoch that is used (<strong>current epoch</strong>) to make the computation of the <code>Stake Distribution</code> when the <code>cardano-cli query stake-distribution</code> command is ran, whereas the Mithril protocol needs to work with the <strong>previous epoch</strong>.</p><p>A workaround is being implemented in this fix that will compute differently the <code>Stake Distribution</code> to target the <strong>previous epoch</strong>. To do so, the Stake value that is now retrieved sequentially for each pool available in the <code>cardano-cli query stake-distribution</code> by using the command <code>cardano-cli query stake-snapshot --stake-pool-id **pool-id*</code>. This guarantees that the <code>Stake Distribution</code> is computed deterministically on all nodes of the Mithril Network.</p><p>We will continue our efforts to enhance the way the <code>Stake Distribution</code> is retrieved in the future, and so that it works smoothly on the <code>mainnet</code> (where the numbers of pools is bigger <code>~3,000</code> vs <code>~100</code> on the <code>preview</code> network).</p><p>The SPOs need to recompile their Signer node in order to compute correctly the <code>Stake Distributions</code> on their node (as in this <a href="https://mithril.network/doc/manual/getting-started/run-signer-node" target="_blank" rel="noopener noreferrer">guide</a>).
It should then take up to <code>2</code> epochs before they are able to successfully register their individual signatures with the Aggregator.</p><p>More information about the <code>Certificate Chain</code> and the epochs retrieval requirements is available <a href="https://mithril.network/doc/mithril/mithril-protocol/certificates" target="_blank" rel="noopener noreferrer">here</a>.</p><p>Feel free to reach out to us on the <a href="https://discord.gg/5kaErDKDRq" target="_blank" rel="noopener noreferrer">Discord channel</a> for questions and/or help.</p>]]></content:encoded>
            <category>stake-distribution</category>
            <category>certificate</category>
        </item>
        <item>
            <title><![CDATA[Signers list computation in Certificates]]></title>
            <link>https://mithril.network/doc/dev-blog/2022/09/12/certificate-signers-list</link>
            <guid>/2022/09/12/certificate-signers-list</guid>
            <pubDate>Mon, 12 Sep 2022 00:00:00 GMT</pubDate>
            <description><![CDATA[The way the Signers list is computed inside a Certificate on the Mithril Aggregator is changing]]></description>
            <content:encoded><![CDATA[<h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-way-the-signers-list-is-computed-inside-a-certificate-on-the-mithril-aggregator-is-changing">The way the Signers list is computed inside a Certificate on the Mithril Aggregator is changing<a class="hash-link" href="#the-way-the-signers-list-is-computed-inside-a-certificate-on-the-mithril-aggregator-is-changing" title="Direct link to heading">​</a></h3><p><strong>PR</strong>: <code>Implement filtered Signers in Certificate</code> <a href="https://github.com/input-output-hk/mithril/pull/494" target="_blank" rel="noopener noreferrer">#494</a></p><p><strong>Issue</strong>: <code>Record 'contributing' Signers only in Certificate</code> <a href="https://github.com/input-output-hk/mithril/issues/495" target="_blank" rel="noopener noreferrer">#495</a></p><p>Before this change, the list of Signers displayed in the <code>Certificate</code> detail of the <a href="https://mithril.network/explorer/" target="_blank" rel="noopener noreferrer">Mithril Explorer</a> was the list of <strong>all eligible</strong> Signers of the epoch used for signing (those who have successfully registered with the Mithril Aggregator <code>2</code> epochs earlier).</p><p>Now that this change has been merged, the list of Signers displayed will only include the <strong>contributing</strong> Signers, which means only those who have successfully sent individual signatures.</p><p>Note that the already existing <code>Certificates</code> will not be updated as this would break the <code>Certificate Chain</code> and therefore would involve the bootstraping of a new <code>Genesis Certificate</code>.</p><p>This change is transparent to the Signer nodes runned by the SPOs and does not require any specific action from them.</p><p>Feel free to reach out to us on the <a href="https://discord.gg/5kaErDKDRq" target="_blank" rel="noopener noreferrer">Discord channel</a> for questions and/or help.</p>]]></content:encoded>
            <category>certificate</category>
        </item>
        <item>
            <title><![CDATA[Genesis Certificate support added]]></title>
            <link>https://mithril.network/doc/dev-blog/2022/09/07/genesis-certificate-feature</link>
            <guid>/2022/09/07/genesis-certificate-feature</guid>
            <pubDate>Wed, 07 Sep 2022 00:00:00 GMT</pubDate>
            <description><![CDATA[Update: The PR has been merged and the feature is being deployed on the GCP Mithril Aggregator.]]></description>
            <content:encoded><![CDATA[<p><strong>Update</strong>: The PR has been merged and the feature is being deployed on the GCP Mithril Aggregator.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="this-afternoon-we-plan-to-merge-the-pr-that-activates-the-genesis-certificate-feature-on-the-gcp-mithril-aggregator">This afternoon, we plan to merge the PR that activates the Genesis Certificate feature on the GCP Mithril Aggregator<a class="hash-link" href="#this-afternoon-we-plan-to-merge-the-pr-that-activates-the-genesis-certificate-feature-on-the-gcp-mithril-aggregator" title="Direct link to heading">​</a></h3><p><strong>PR</strong>: <code>Implement Real Genesis Certificate</code> <a href="https://github.com/input-output-hk/mithril/pull/438" target="_blank" rel="noopener noreferrer">#438</a></p><p><strong>Issue</strong>: <code>Bootstrap Certificate Chain w/ Genesis Certificate</code> <a href="https://github.com/input-output-hk/mithril/issues/364" target="_blank" rel="noopener noreferrer">#364</a></p><p>This will involve some manual operations that will prevent temporarily the service to be running:</p><ul><li><p>We will have to reset the stores of the <code>Snapshots</code> and <code>Certificates</code>. This means that the <a href="https://mithril.network/explorer/" target="_blank" rel="noopener noreferrer">Mithril Explorer</a> will display a <code>No snapshot available</code> message.</p></li><li><p>The Mithril Signers will have to wait until the next epoch <code>#30</code> to be able to sign. This means that we should see the first available <code>Snapshot</code> 1 hour after the epoch transition.</p></li></ul><p>The SPOs that are currently running a Mithril Signer will have to recompile their node in order ot take advantage of the latest improvements (such as the registration of the nodes that will take few minutes instead of few hours). However, the previously compiled node will be able to contribute to signatures.</p><p>In order to restore a Mithril Snapshot, a Mithril Client will now need access to the <code>Genesis Verification Key</code> by adding an environment variable when running: <code>GENESIS_VERIFICATION_KEY=$(wget -q -O - https://raw.githubusercontent.com/input-output-hk/mithril/main/TEST_ONLY_genesis.vkey)</code>.</p><p>Feel free to reach out to us on the <a href="https://discord.gg/5kaErDKDRq" target="_blank" rel="noopener noreferrer">Discord channel</a> for questions and/or help.</p>]]></content:encoded>
            <category>genesis</category>
            <category>certificate</category>
            <category>breaking-change</category>
        </item>
    </channel>
</rss>