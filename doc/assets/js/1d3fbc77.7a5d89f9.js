"use strict";(self.webpackChunkmithril_doc=self.webpackChunkmithril_doc||[]).push([[4163],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>h});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var p=a.createContext({}),s=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},d=function(e){var t=s(e.components);return a.createElement(p.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,p=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),u=s(n),h=i,c=u["".concat(p,".").concat(h)]||u[h]||m[h]||r;return n?a.createElement(c,l(l({ref:t},d),{},{components:n})):a.createElement(c,l({ref:t},d))}));function h(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,l=new Array(r);l[0]=u;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o.mdxType="string"==typeof e?e:i,l[1]=o;for(var s=2;s<r;s++)l[s]=n[s];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},9544:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>l,default:()=>m,frontMatter:()=>r,metadata:()=>o,toc:()=>s});var a=n(7462),i=(n(7294),n(3905));const r={sidebar_position:2},l="Run a Mithril Signer node (SPO)",o={unversionedId:"manual/getting-started/run-signer-node",id:"manual/getting-started/run-signer-node",title:"Run a Mithril Signer node (SPO)",description:"In this guide, you will learn how to setup a Mithril Signer on top of a Cardano SPO Node for the testnet.",source:"@site/root/manual/getting-started/run-signer-node.md",sourceDirName:"manual/getting-started",slug:"/manual/getting-started/run-signer-node",permalink:"/doc/manual/getting-started/run-signer-node",draft:!1,editUrl:"https://github.com/input-output-hk/mithril/edit/main/docs/root/manual/getting-started/run-signer-node.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"docSideBar",previous:{title:"Bootstrap a Cardano Node",permalink:"/doc/manual/getting-started/bootstrap-cardano-node"},next:{title:"Run a Private Mithril network",permalink:"/doc/manual/getting-started/run-mithril-devnet"}},p={},s=[{value:"Pre-requisites",id:"pre-requisites",level:2},{value:"What you&#39;ll need",id:"what-youll-need",level:2},{value:"Mithril Keys Certification",id:"mithril-keys-certification",level:2},{value:"Stable mode: Declare your Pool Id",id:"stable-mode-declare-your-pool-id",level:3},{value:"Experimental mode: Certify your Pool Id",id:"experimental-mode-certify-your-pool-id",level:3},{value:"Building your own executable",id:"building-your-own-executable",level:2},{value:"Download source",id:"download-source",level:3},{value:"Build Mithril Signer binary",id:"build-mithril-signer-binary",level:3},{value:"Verify build",id:"verify-build",level:3},{value:"Move executable",id:"move-executable",level:3},{value:"Setup the service",id:"setup-the-service",level:3}],d={toc:s};function m(e){let{components:t,...n}=e;return(0,i.kt)("wrapper",(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"run-a-mithril-signer-node-spo"},"Run a Mithril Signer node (SPO)"),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"In this guide, you will learn how to setup a ",(0,i.kt)("strong",{parentName:"p"},"Mithril Signer")," on top of a ",(0,i.kt)("strong",{parentName:"p"},"Cardano SPO Node")," for the ",(0,i.kt)("inlineCode",{parentName:"p"},"testnet"),".")),(0,i.kt)("admonition",{type:"tip"},(0,i.kt)("p",{parentName:"admonition"},"The ",(0,i.kt)("a",{parentName:"p",href:"/doc/manual/developer-docs/references#mithril-networks"},"Mithril test networks")," are:"),(0,i.kt)("ul",{parentName:"admonition"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"preview"),": Test network with magic id ",(0,i.kt)("inlineCode",{parentName:"li"},"2"),", implemented on the IOG hosted Mithril Aggregator"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"preprod"),": Test network with magic id ",(0,i.kt)("inlineCode",{parentName:"li"},"1"),", not implemented yet on the IOG hosted Mithril Aggregator"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"testnet"),": Legacy test network with magic id ",(0,i.kt)("inlineCode",{parentName:"li"},"1097911063"),", used to be on the IOG hosted Mithril Aggregator, now deprecated")),(0,i.kt)("p",{parentName:"admonition"},"In this documentation, we use the generic ",(0,i.kt)("inlineCode",{parentName:"p"},"**YOUR_TEST_NETWORK**")," identifier, but you need to replace it with the identifier of the network that runs on your Cardano node")),(0,i.kt)("admonition",{type:"danger"},(0,i.kt)("p",{parentName:"admonition"},"This guide is working only on a Linux machine.")),(0,i.kt)("admonition",{type:"tip"},(0,i.kt)("p",{parentName:"admonition"},"For more information about the ",(0,i.kt)("strong",{parentName:"p"},"Mithril Protocol"),", please refer to the ",(0,i.kt)("a",{parentName:"p",href:"/doc/mithril/intro"},"About Mithril")," section.")),(0,i.kt)("h2",{id:"pre-requisites"},"Pre-requisites"),(0,i.kt)("h2",{id:"what-youll-need"},"What you'll need"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Operating a ",(0,i.kt)("strong",{parentName:"p"},"Cardano Node")," as a ",(0,i.kt)("strong",{parentName:"p"},"Stake Pool"),":"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Stable"),": The Cardano ",(0,i.kt)("inlineCode",{parentName:"li"},"Pool Id")," in a ",(0,i.kt)("inlineCode",{parentName:"li"},"BECH32")," format such as ",(0,i.kt)("inlineCode",{parentName:"li"},"pool1frevxe70aqw2ce58c0muyesnahl88nfjjsp25h85jwakzgd2g2l")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Experimental"),":",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"The Cardano ",(0,i.kt)("inlineCode",{parentName:"li"},"Operational Certificate")," file of the pool"),(0,i.kt)("li",{parentName:"ul"},"The Cardano ",(0,i.kt)("inlineCode",{parentName:"li"},"KES Secret Key")," file of the pool"))))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Access to the file system of a ",(0,i.kt)("inlineCode",{parentName:"p"},"relay")," ",(0,i.kt)("strong",{parentName:"p"},"Cardano Node")," running on the ",(0,i.kt)("inlineCode",{parentName:"p"},"testnet"),":"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Read rights on the ",(0,i.kt)("inlineCode",{parentName:"li"},"Database")," folder (",(0,i.kt)("inlineCode",{parentName:"li"},"--database-path")," setting of the ",(0,i.kt)("strong",{parentName:"li"},"Cardano Node"),")"),(0,i.kt)("li",{parentName:"ul"},"Read/Write rights on the ",(0,i.kt)("inlineCode",{parentName:"li"},"Inter Process Communication")," file (usually ",(0,i.kt)("inlineCode",{parentName:"li"},"CARDANO_NODE_SOCKET_PATH")," env var used to launch the ",(0,i.kt)("strong",{parentName:"li"},"Cardano Node"),")"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Install a recent version of the ",(0,i.kt)("a",{parentName:"p",href:"https://hydra.iohk.io/job/Cardano/cardano-node/linux.native.cardano-cli"},(0,i.kt)("inlineCode",{parentName:"a"},"cardano-cli"))," (version 1.35.3+)")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Install a ",(0,i.kt)("a",{parentName:"p",href:"https://www.rust-lang.org/learn/get-started"},"correctly configured")," Rust toolchain (latest stable version).")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Install OpenSSL development libraries, for example on Ubuntu/Debian/Mint run ",(0,i.kt)("inlineCode",{parentName:"p"},"apt install libssl-dev"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Ensure the SQLite3 version is at lease ",(0,i.kt)("inlineCode",{parentName:"p"},"1.35")," (released Apr. 2021)"))),(0,i.kt)("h2",{id:"mithril-keys-certification"},"Mithril Keys Certification"),(0,i.kt)("admonition",{type:"danger"},(0,i.kt)("p",{parentName:"admonition"},"The cryptographic certification of the Mithril keys is an experimental feature. We strongly recommend that you first setup a Mithril Signer node in the stable mode. Once you are able to sign in the stable mode is a good time to start experimenting with the keys certification."),(0,i.kt)("p",{parentName:"admonition"},"Your feedback is very important, so feel free to contact us on the #moria channel on the IOG ",(0,i.kt)("a",{parentName:"p",href:"https://discord.gg/5kaErDKDRq"},"Discord server"),", or to file an issue on GitHub.")),(0,i.kt)("h3",{id:"stable-mode-declare-your-pool-id"},"Stable mode: Declare your Pool Id"),(0,i.kt)("p",null,"In this stable mode, the Cardano ",(0,i.kt)("inlineCode",{parentName:"p"},"Pool Id")," that you specify is not strictly verified. It is associated to Cardano stakes based on your declaration. This mode is soon to be deprecated and replaced by the certification mode below."),(0,i.kt)("p",null,"This is the default mode presented in the setup of this document, it is displayed with a specific ",(0,i.kt)("strong",{parentName:"p"},"Stable")," mention."),(0,i.kt)("h3",{id:"experimental-mode-certify-your-pool-id"},"Experimental mode: Certify your Pool Id"),(0,i.kt)("p",null,"In this mode, you declare your Cardano ",(0,i.kt)("inlineCode",{parentName:"p"},"Operational Certificate")," file and ",(0,i.kt)("inlineCode",{parentName:"p"},"KES Secret Key")," file which allows to:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Compute automatically the ",(0,i.kt)("inlineCode",{parentName:"li"},"PoolId")),(0,i.kt)("li",{parentName:"ul"},"Verify that you are the owner of the ",(0,i.kt)("inlineCode",{parentName:"li"},"PoolId"),", and thus of the associated stakes used by Mithril protocol"),(0,i.kt)("li",{parentName:"ul"},"Verify that you are the owner of the Mithril ",(0,i.kt)("inlineCode",{parentName:"li"},"Signer Secret Key"),", and thus allowed to contribute to the multi-signatures and certificate production of the Mithril network")),(0,i.kt)("p",null,"This mode is displayed with a specific ",(0,i.kt)("strong",{parentName:"p"},"Experimental")," mention in this document."),(0,i.kt)("h2",{id:"building-your-own-executable"},"Building your own executable"),(0,i.kt)("h3",{id:"download-source"},"Download source"),(0,i.kt)("p",null,"Download from Github (HTTPS)"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"git clone https://github.com/input-output-hk/mithril.git\n")),(0,i.kt)("p",null,"Or (SSH)"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"git clone git@github.com:input-output-hk/mithril.git\n")),(0,i.kt)("h3",{id:"build-mithril-signer-binary"},"Build Mithril Signer binary"),(0,i.kt)("p",null,"Change directory"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"cd mithril/mithril-signer\n")),(0,i.kt)("p",null,"Run tests (Optional)"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"make test\n")),(0,i.kt)("p",null,"Build executable"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"make build\n")),(0,i.kt)("h3",{id:"verify-build"},"Verify build"),(0,i.kt)("p",null,"Check that the Mithril Signer binary is working fine by running its help"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"./mithril-signer -h\n")),(0,i.kt)("p",null,"You should see"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"mithril-signer \nAn implementation of a Mithril Signer\n\nUSAGE:\n    mithril-signer [OPTIONS]\n\nOPTIONS:\n    -h, --help                   Print help information\n    -r, --run-mode <RUN_MODE>    Run Mode [default: dev]\n    -v, --verbose                Verbosity level\n")),(0,i.kt)("admonition",{type:"tip"},(0,i.kt)("p",{parentName:"admonition"},"If you want to dig deeper, you can get access to several level of logs from the Mithril Signer:"),(0,i.kt)("ul",{parentName:"admonition"},(0,i.kt)("li",{parentName:"ul"},"Add ",(0,i.kt)("inlineCode",{parentName:"li"},"-v")," for some logs (WARN)"),(0,i.kt)("li",{parentName:"ul"},"Add ",(0,i.kt)("inlineCode",{parentName:"li"},"-vv")," for more logs (INFO)"),(0,i.kt)("li",{parentName:"ul"},"Add ",(0,i.kt)("inlineCode",{parentName:"li"},"-vvv")," for even more logs (DEBUG)"),(0,i.kt)("li",{parentName:"ul"},"Add ",(0,i.kt)("inlineCode",{parentName:"li"},"-vvvv")," for all logs (TRACE)"))),(0,i.kt)("h3",{id:"move-executable"},"Move executable"),(0,i.kt)("p",null,"Move executable to /opt/mithril"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"sudo mkdir -p /opt/mithril\nsudo mv mithril-signer /opt/mithril\n")),(0,i.kt)("h3",{id:"setup-the-service"},"Setup the service"),(0,i.kt)("admonition",{type:"caution"},(0,i.kt)("ul",{parentName:"admonition"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"User=cardano"),":\nReplace this value with the correct user. We assume that the user used to run the ",(0,i.kt)("strong",{parentName:"p"},"Cardano Node")," is ",(0,i.kt)("inlineCode",{parentName:"p"},"cardano"),". The ",(0,i.kt)("strong",{parentName:"p"},"Mithril Signer")," must imperatively run with the same user.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Stable mode"),": in the ",(0,i.kt)("inlineCode",{parentName:"p"},"/opt/mithril/mithril-signer/service.env")," env file:"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"PARTY_ID=YOUR_POOL_ID_BECH32"),": replace ",(0,i.kt)("inlineCode",{parentName:"li"},"YOUR_POOL_ID_BECH32")," with your BECH32 ",(0,i.kt)("inlineCode",{parentName:"li"},"Pool Id")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"DB_DIRECTORY=/cardano/db"),": replace ",(0,i.kt)("inlineCode",{parentName:"li"},"/cardano/db")," with the path to the database folder of the ",(0,i.kt)("strong",{parentName:"li"},"Cardano Node")," (the one in ",(0,i.kt)("inlineCode",{parentName:"li"},"--database-path"),")"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"CARDANO_NODE_SOCKET_PATH=/cardano/ipc/node.socket"),": replace with the path to the IPC file (",(0,i.kt)("inlineCode",{parentName:"li"},"CARDANO_NODE_SOCKET_PATH")," env var)"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"CARDANO_CLI_PATH=/app/bin/cardano-cli"),": replace with the path to the ",(0,i.kt)("inlineCode",{parentName:"li"},"cardano-cli")," executable"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"DATA_STORES_DIRECTORY=/opt/mithril/mithril-signer/stores"),": replace with the path to a folder where the ",(0,i.kt)("strong",{parentName:"li"},"Mithril Signer")," will store its data (",(0,i.kt)("inlineCode",{parentName:"li"},"/opt/mithril/mithril-signer/stores")," e.g.)"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"STORE_RETENTION_LIMIT"),": if set, this will limit the number of records in some internal stores (5 is a good fit)."))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"\ud83d\udca5 ",(0,i.kt)("strong",{parentName:"p"},"Experimental mode"),": in the ",(0,i.kt)("inlineCode",{parentName:"p"},"/opt/mithril/mithril-signer/service.env")," env file:"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"KES_SECRET_KEY_PATH=/cardano/keys/kes.skey"),": replace ",(0,i.kt)("inlineCode",{parentName:"li"},"/cardano/keys/kes.skey")," with the path to your Cardano ",(0,i.kt)("inlineCode",{parentName:"li"},"KES Secret Key")," file"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"OPERATIONAL_CERTIFICATE_PATH=/cardano/cert/pool.cert"),": replace ",(0,i.kt)("inlineCode",{parentName:"li"},"/cardano/cert/pool.cert")," with the path to your Cardano ",(0,i.kt)("inlineCode",{parentName:"li"},"Operational Certificate")," file"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"DB_DIRECTORY=/cardano/db"),": replace ",(0,i.kt)("inlineCode",{parentName:"li"},"/cardano/db")," with the path to the database folder of the ",(0,i.kt)("strong",{parentName:"li"},"Cardano Node")," (the one in ",(0,i.kt)("inlineCode",{parentName:"li"},"--database-path"),")"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"CARDANO_NODE_SOCKET_PATH=/cardano/ipc/node.socket"),": replace with the path to the IPC file (",(0,i.kt)("inlineCode",{parentName:"li"},"CARDANO_NODE_SOCKET_PATH")," env var)"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"CARDANO_CLI_PATH=/app/bin/cardano-cli"),": replace with the path to the ",(0,i.kt)("inlineCode",{parentName:"li"},"cardano-cli")," executable"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"DATA_STORES_DIRECTORY=/opt/mithril/mithril-signer/stores"),": replace with the path to a folder where the ",(0,i.kt)("strong",{parentName:"li"},"Mithril Signer")," will store its data (",(0,i.kt)("inlineCode",{parentName:"li"},"/opt/mithril/mithril-signer/stores")," e.g.)"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"STORE_RETENTION_LIMIT"),": if set, this will limit the number of records in some internal stores (5 is a good fit)."))))),(0,i.kt)("p",null,"First create an env file that will be used by the service:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Stable mode"),":")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"sudo cat > /opt/mithril/mithril-signer.env << EOF\nPARTY_ID=**YOUR_POOL_ID_BECH32**\nNETWORK=**YOUR_TEST_NETWORK**\nAGGREGATOR_ENDPOINT=https://aggregator.api.mithril.network/aggregator\nRUN_INTERVAL=60000\nDB_DIRECTORY=/cardano/db\nCARDANO_NODE_SOCKET_PATH=/cardano/ipc/node.socket\nCARDANO_CLI_PATH=/app/bin/cardano-cli\nDATA_STORES_DIRECTORY=/opt/mithril/mithril-signer/stores\nSTORE_RETENTION_LIMIT=5\nEOF\n")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"\ud83d\udca5 ",(0,i.kt)("strong",{parentName:"li"},"Experimental mode"),":")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"sudo cat > /opt/mithril/mithril-signer.env << EOF\nKES_SECRET_KEY_PATH=**YOUR_KES_SECRET_KEY_PATH**\nOPERATIONAL_CERTIFICATE_PATH=**YOUR_OPERATIONAL_CERTIFICATE_PATH**\nNETWORK=**YOUR_TEST_NETWORK**\nAGGREGATOR_ENDPOINT=https://aggregator.api.mithril.network/aggregator\nRUN_INTERVAL=60000\nDB_DIRECTORY=/cardano/db\nCARDANO_NODE_SOCKET_PATH=/cardano/ipc/node.socket\nCARDANO_CLI_PATH=/app/bin/cardano-cli\nDATA_STORES_DIRECTORY=/opt/mithril/mithril-signer/stores\nSTORE_RETENTION_LIMIT=5\nEOF\n")),(0,i.kt)("p",null,"Then we will create a ",(0,i.kt)("inlineCode",{parentName:"p"},"/etc/systemd/system/mithril-signer.service")," description file for our service"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"sudo cat > /etc/systemd/system/mithril-signer.service << EOF\n[Unit]\nDescription=Mithril Signer service\nStartLimitIntervalSec=0\n\n[Service]\nType=simple\nRestart=always\nRestartSec=1\nUser=cardano\nEnvironmentFile=/opt/mithril/mithril-signer.env\nExecStart=/opt/mithril/mithril-signer -vvv\n\n[Install]\nWantedBy=multi-user.target\nEOF\n")),(0,i.kt)("p",null,"Reload the service configuration (Optional)"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"sudo systemctl daemon-reload\n")),(0,i.kt)("p",null,"Then start the service"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"sudo systemctl start mithril-signer\n")),(0,i.kt)("p",null,"Then register the service to start on boot"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"sudo systemctl enable mithril-signer\n")),(0,i.kt)("p",null,"Then monitor status of the service"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"systemctl status mithril-signer.service\n")),(0,i.kt)("p",null,"And monitor the logs of the service"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"tail /var/log/syslog\n")))}m.isMDXComponent=!0}}]);