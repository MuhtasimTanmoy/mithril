"use strict";(self.webpackChunkmithril_doc=self.webpackChunkmithril_doc||[]).push([[4274],{63222:(e,t,a)=>{a.r(t),a.d(t,{default:()=>d});var r=a(67294);function n(e){const[t,a]=(0,r.useState)({});return(0,r.useEffect)((()=>{if(!e.autoUpdate)return;let t=()=>{fetch(e.aggregator+"/certificate-pending").then((e=>200===e.status?e.json():{})).then((e=>a(e))).catch((e=>{a({}),console.error("Fetch certificate-pending error:",e)}))};t();const r=setInterval(t,e.updateInterval);return()=>clearInterval(r)}),[e.aggregator,e.updateInterval,e.autoUpdate]),r.createElement("div",{className:e.className},r.createElement("h2",null,"Pending Certificate"),0===Object.entries(t).length?r.createElement("p",null,"No pending certificate available"):r.createElement("div",{className:"row"},r.createElement("div",{className:"card margin-right--md shadow--md"},r.createElement("div",{className:"card__header"},r.createElement("h3",null,"Beacon")),r.createElement("div",{className:"card__body"},r.createElement("div",null,"Network: ",t.beacon.network),r.createElement("div",null,"Epoch: ",t.beacon.epoch),r.createElement("div",null,"Immutable File Number: ",t.beacon.immutable_file_number))),r.createElement("div",{className:"card margin-right--md shadow--md"},r.createElement("div",{className:"card__header"},r.createElement("h3",null,"Protocol Parameters")),r.createElement("div",{className:"card__body"},r.createElement("div",null,"K: ",t.protocol.k),r.createElement("div",null,"M: ",t.protocol.m),r.createElement("div",null,"Phi: ",t.protocol.phi_f))),r.createElement("div",{className:"card margin-right--md shadow--md"},r.createElement("div",{className:"card__header"},r.createElement("h3",null,"Signers")),r.createElement("div",{className:"card__body"},0===t.signers.length?r.createElement("div",null,"No Signers registered"):t.signers.map((e=>r.createElement("div",{key:e.party_id},"Party id: ",e.party_id)))))))}function l(e){const[t,a]=(0,r.useState)([]);return(0,r.useEffect)((()=>{if(!e.autoUpdate)return;let t=()=>{fetch(e.aggregator+"/snapshots").then((e=>e.json())).then((e=>a(e))).catch((e=>{a([]),console.error("Fetch snapshots error:",e)}))};t();const r=setInterval(t,e.updateInterval);return()=>clearInterval(r)}),[e.aggregator,e.updateInterval,e.autoUpdate]),r.createElement("div",{className:e.className},r.createElement("h2",null,"Snapshots"),0===Object.entries(t).length?r.createElement("p",null,"No snapshot available"):r.createElement("div",{className:"row"},t.map(((e,t)=>r.createElement("div",{key:e.digest,className:"card margin-right--md margin-bottom--md shadow--md"},r.createElement("div",{className:"card__header"},r.createElement("h3",null,e.digest.slice(0,24))),r.createElement("div",{className:"card__body"},r.createElement("div",null,"Epoch: ",e.beacon.epoch),r.createElement("div",null,"Immutable File Number: ",e.beacon.immutable_file_number),r.createElement("div",null,"Certificate hash: ",r.createElement("br",null)," ",e.certificate_hash.slice(0,30)),r.createElement("div",null,"Created at: ",r.createElement("br",null)," ",new Date(e.created_at).toLocaleString()),r.createElement("div",null,"Size: ",function(e,t){if(void 0===t&&(t=2),0===e)return"0 Bytes";const a=t<0?0:t,r=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,r)).toFixed(a))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][r]}(e.size))),r.createElement("div",{className:"card__footer text--right"},0===t&&r.createElement("span",{className:"badge badge--primary margin-left--sm"},"Latest"),r.createElement("span",{className:"badge badge--secondary margin-left--sm"},e.beacon.network)))))))}var c=a(82164);const s=["http://localhost:8080/aggregator","http://aggregator.api.mithril.network/aggregator"];function m(e){return r.createElement("label",{className:e.className},"Update Interval:",r.createElement("select",{value:e.interval,onChange:function(t){e.onIntervalChange(parseInt(t.target.value))},className:"margin-left--sm"},r.createElement("option",{value:1e3},"1 seconds"),r.createElement("option",{value:5e3},"5 seconds"),r.createElement("option",{value:1e4},"10 seconds")))}function o(e){return r.createElement("label",{className:e.className},"Aggregator:",r.createElement("select",{value:e.aggregator,onChange:function(t){e.onAggregatorChange(t.target.value)},className:"margin-left--sm"},e.availableAggregators.map(((e,t)=>r.createElement("option",{key:"agg-"+t,value:e},e)))))}function i(e){e.isPressed;return r.createElement("label",{className:e.className},r.createElement("button",{type:"button",onClick:function(){e.onPress(!e.isPressed)},className:"margin-left--sm button button--sm ".concat(e.isPressed?"button--primary":"button--success")},e.isPressed?"Pause \u23f8":"Resume \u25b6"))}function d(){const[e,t]=(0,r.useState)(s[0]),[a,d]=(0,r.useState)(1e4),[g,u]=(0,r.useState)(!0);return r.createElement(c.Z,{title:"Mithril Showcase",description:"Showcase of a Mithril Network"},r.createElement("main",{className:"padding--md"},r.createElement("h1",null,"Mithril Showcase"),r.createElement("form",{className:"margin--md"},r.createElement(o,{aggregator:e,onAggregatorChange:function(e){t(e)},availableAggregators:s}),r.createElement(m,{interval:a,onIntervalChange:function(e){d(e)},className:"margin-left--sm"}),r.createElement(i,{isPressed:g,onPress:function(e){u(e)},className:"margin-left--sm"})),r.createElement(n,{aggregator:e,updateInterval:a,autoUpdate:g,className:"margin--md"}),r.createElement(l,{aggregator:e,updateInterval:a,autoUpdate:g,className:"margin--md"})))}}}]);