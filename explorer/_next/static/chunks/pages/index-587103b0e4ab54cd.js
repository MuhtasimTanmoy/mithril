(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return c(597)}])},597:function(a,b,c){"use strict";c.r(b),c.d(b,{default:function(){return H}});var d=c(5893),e=c(7294),f=c(7337),g=c(7525),h=c(7366),i=c(1799),j=c(9396),k=c(5005);function l(a){return(0,d.jsx)(k.Z,(0,j.Z)((0,i.Z)({variant:"outline-secondary",target:"_blank"},a),{children:(0,d.jsx)("img",{src:"/explorer/filetype-json.svg",alt:"raw json"})}))}function m(a){var b=(0,e.useState)({}),c=b[0],i=b[1];return(0,e.useEffect)(function(){if(a.autoUpdate){var b=function(){fetch("".concat(a.aggregator,"/certificate-pending")).then(function(a){return 200===a.status?a.json():{}}).then(function(a){return i(a)}).catch(function(a){i({}),console.error("Fetch certificate-pending error:",a)})};b();var c=setInterval(b,a.updateInterval);return function(){return clearInterval(c)}}},[a.aggregator,a.updateInterval,a.autoUpdate]),(0,d.jsxs)("div",{className:a.className,children:[(0,d.jsxs)("h2",{children:["Pending Certificate",0!==Object.entries(c).length&&(0,d.jsx)(l,{href:"".concat(a.aggregator,"/certificate-pending"),variant:"outline-light",size:"sm"})]}),0===Object.entries(c).length?(0,d.jsx)("p",{children:"No pending certificate available"}):(0,d.jsxs)(f.Z,{children:[(0,d.jsx)(g.Z,{children:(0,d.jsxs)(g.Z.Body,{children:[(0,d.jsx)(g.Z.Title,{children:"Beacon"}),(0,d.jsxs)(h.Z,{className:"margin-bottom--md",variant:"flush",children:[(0,d.jsxs)(h.Z.Item,{children:["Network: ",c.beacon.network]}),(0,d.jsxs)(h.Z.Item,{children:["Epoch: ",c.beacon.epoch]}),(0,d.jsxs)(h.Z.Item,{children:["Immutable File Number: ",c.beacon.immutable_file_number]})]}),(0,d.jsx)(g.Z.Title,{children:"Protocol Parameters"}),(0,d.jsxs)(h.Z,{horizontal:!0,children:[(0,d.jsxs)(h.Z.Item,{children:["K: ",c.protocol.k]}),(0,d.jsxs)(h.Z.Item,{children:["M: ",c.protocol.m]}),(0,d.jsxs)(h.Z.Item,{children:["Phi: ",c.protocol.phi_f]})]})]})}),(0,d.jsx)(g.Z,{children:(0,d.jsxs)(g.Z.Body,{children:[(0,d.jsx)(g.Z.Title,{children:"Signers"}),0===c.signers.length?(0,d.jsx)("div",{children:"No Signers registered"}):(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)(h.Z,{variant:"flush",children:[(0,d.jsx)(h.Z.Item,{children:(0,d.jsx)("b",{children:"Party id"})}),c.signers.map(function(a){return(0,d.jsx)(h.Z.Item,{children:a.party_id},a.party_id)})]})})]})}),(0,d.jsx)(g.Z,{children:(0,d.jsxs)(g.Z.Body,{children:[(0,d.jsx)(g.Z.Title,{children:"Next Signers"}),0===c.next_signers.length?(0,d.jsx)("div",{children:"No Signers registered for next epoch"}):(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)(h.Z,{variant:"flush",children:[(0,d.jsx)(h.Z.Item,{children:(0,d.jsx)("b",{children:"Party id"})}),c.next_signers.map(function(a){return(0,d.jsx)(h.Z.Item,{children:a.party_id},a.party_id)})]})})]})})]})]})}var n=c(682),o=c(1608),p=c(1555),q=c(478),r=c(7977),s=c(9976),t=c(5147);function u(a){var b=function(){a.onHashChange(g.previous_hash)},c=function(){a.onHashChange(void 0)},f=(0,e.useState)({}),g=f[0],i=f[1];return(0,e.useEffect)(function(){a.hash&&fetch("".concat(a.aggregator,"/certificate/").concat(a.hash)).then(function(a){return 200===a.status?a.json():{}}).then(function(a){return i(a)}).catch(function(a){i({}),console.error("Fetch certificate error:",a)})},[a.aggregator,a.hash]),(0,d.jsxs)(s.Z,{show:void 0!==a.hash,onHide:c,size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,d.jsx)(s.Z.Header,{className:"text-break",closeButton:!0,children:(0,d.jsxs)(s.Z.Title,{id:"contained-modal-title-vcenter",children:["Certificate ",g.hash]})}),(0,d.jsx)(s.Z.Body,{children:0===Object.entries(g).length?(0,d.jsx)("p",{children:"Not found"}):(0,d.jsx)(n.Z,{children:(0,d.jsxs)(o.Z,{md:1,xl:"auto",children:[(0,d.jsxs)(p.Z,{xl:4,children:[(0,d.jsx)("h4",{children:"Beacon"}),(0,d.jsxs)(h.Z,{className:"margin-bottom--md",variant:"flush",children:[(0,d.jsxs)(h.Z.Item,{children:["Network: ",g.beacon.network]}),(0,d.jsxs)(h.Z.Item,{children:["Epoch: ",g.beacon.epoch]}),(0,d.jsxs)(h.Z.Item,{children:["Immutable File Number: ",g.beacon.immutable_file_number]})]}),(0,d.jsx)("h4",{children:"Protocol Parameters"}),(0,d.jsxs)(h.Z,{horizontal:!0,children:[(0,d.jsxs)(h.Z.Item,{children:["K: ",g.metadata.parameters.k]}),(0,d.jsxs)(h.Z.Item,{children:["M: ",g.metadata.parameters.m]}),(0,d.jsxs)(h.Z.Item,{children:["Phi: ",g.metadata.parameters.phi_f]})]})]}),(0,d.jsxs)(p.Z,{xl:8,children:[(0,d.jsx)("h4",{children:"Signers"}),""!==g.genesis_signature?(0,d.jsx)("div",{children:"This is the chain Genesis Certificate, since it&aops;s manually created it doesn't contain any Signers."}):0===g.metadata.signers.length?(0,d.jsx)("div",{children:"No Signers for this certificate, something went wrong either with the data retrieval or the signing process"}):(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)(t.Z,{responsive:!0,children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:"Party id"}),(0,d.jsx)("th",{children:"Stake"})]})}),(0,d.jsx)("tbody",{children:g.metadata.signers.map(function(a){return(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:a.party_id}),(0,d.jsx)("td",{children:a.stake})]},a.party_id)})})]})})]})]})})}),(0,d.jsxs)(s.Z.Footer,{children:[""!==g.genesis_signature?(0,d.jsx)(r.Z,{bg:"warning",children:"Genesis"}):(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)(k.Z,{size:"sm",onClick:b,className:"text-break",children:["Previous hash: ",g.previous_hash]})}),(0,d.jsx)(l,{href:"".concat(a.aggregator,"/certificate/").concat(a.hash),size:"sm"})]})]})}function v(a){var b=function(a){t(a)},c=function(a){t(a)},f=(0,e.useState)([]),i=f[0],j=f[1],m=(0,e.useState)(void 0),s=m[0],t=m[1];return(0,e.useEffect)(function(){if(a.autoUpdate){var b=function(){fetch("".concat(a.aggregator,"/snapshots")).then(function(a){return a.json()}).then(function(a){return j(a)}).catch(function(a){j([]),console.error("Fetch snapshots error:",a)})};b();var c=setInterval(b,a.updateInterval);return function(){return clearInterval(c)}}},[a.aggregator,a.updateInterval,a.autoUpdate]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(u,{aggregator:a.aggregator,hash:s,onHashChange:b}),(0,d.jsxs)("div",{className:a.className,children:[(0,d.jsxs)("h2",{children:["Snapshots ",(0,d.jsx)(l,{href:"".concat(a.aggregator,"/snapshots"),variant:"outline-light",size:"sm"})]}),0===Object.entries(i).length?(0,d.jsx)("p",{children:"No snapshot available"}):(0,d.jsx)(n.Z,{fluid:!0,children:(0,d.jsx)(o.Z,{xs:1,md:2,lg:3,xl:4,children:i.map(function(b,e){return(0,d.jsx)(p.Z,{className:"mb-2",children:(0,d.jsxs)(g.Z,{border:0===e?"primary":"",children:[(0,d.jsxs)(g.Z.Body,{children:[(0,d.jsx)(g.Z.Title,{children:b.digest}),(0,d.jsxs)(h.Z,{variant:"flush",className:"data-list-group",children:[(0,d.jsxs)(h.Z.Item,{children:["Epoch: ",b.beacon.epoch]}),(0,d.jsxs)(h.Z.Item,{children:["Immutable File Number: ",b.beacon.immutable_file_number]}),(0,d.jsxs)(h.Z.Item,{children:["Certificate hash: ",(0,d.jsx)("br",{}),b.certificate_hash," ",(0,d.jsx)(k.Z,{size:"sm",onClick:function(){return c(b.certificate_hash)},children:"Show"})]}),(0,d.jsxs)(h.Z.Item,{children:["Created at: ",(0,d.jsx)("br",{})," ",new Date(b.created_at).toLocaleString()]}),(0,d.jsxs)(h.Z.Item,{children:["Size: ",function(a){var b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:2;if(0===a)return"0 Bytes";var c=1024,d=b<0?0:b,e=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],f=Math.floor(Math.log(a)/Math.log(c));return parseFloat((a/Math.pow(c,f)).toFixed(d))+" "+e[f]}(b.size)]})]})]}),(0,d.jsx)(g.Z.Footer,{children:(0,d.jsxs)(q.Z,{direction:"horizontal",gap:1,children:[0===e&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(r.Z,{bg:"primary",children:"Latest"})," "]}),(0,d.jsx)(r.Z,{bg:"secondary",children:b.beacon.network}),(0,d.jsx)(l,{href:"".concat(a.aggregator,"/snapshot/").concat(b.digest),size:"sm",className:"ms-auto"})]})})]})},b.digest)})})})]})]})}var w=c(9008),x=c.n(w),y=c(5675),z=c.n(y),A=c(9301),B=c(1604),C=c(214),D=c.n(C),E=["https://aggregator.api.mithril.network/aggregator","http://localhost:8080/aggregator"];function F(a){var b=function(b){a.onIntervalChange(parseInt(b.target.value))},c=function(){a.onStartStopPress(!a.isStartStopPressed)};return(0,d.jsxs)(A.Z.Group,{as:p.Z,className:a.className,children:[(0,d.jsx)(A.Z.Label,{children:"Update Interval:"}),(0,d.jsxs)(B.Z,{children:[(0,d.jsx)(k.Z,{type:"button",onClick:c,variant:a.isStartStopPressed?"primary":"success",children:a.isStartStopPressed?"Pause ⏸":"Resume ▶"}),(0,d.jsxs)(A.Z.Select,{value:a.interval,onChange:b,children:[(0,d.jsx)("option",{value:1e3,children:"1 seconds"}),(0,d.jsx)("option",{value:5e3,children:"5 seconds"}),(0,d.jsx)("option",{value:1e4,children:"10 seconds"})]})]})]})}function G(a){var b=function(b){a.onAggregatorChange(b.target.value)};return(0,d.jsxs)(A.Z.Group,{as:p.Z,className:a.className,children:[(0,d.jsx)(A.Z.Label,{children:"Aggregator:"}),(0,d.jsx)(A.Z.Select,{value:a.aggregator,onChange:b,children:a.availableAggregators.map(function(a,b){return(0,d.jsx)("option",{value:a,children:a},"agg-"+b)})})]})}function H(){var a=function(a){h(a)},b=function(a){p(a)},c=function(a){k(a)},f=(0,e.useState)(E[0]),g=f[0],h=f[1],i=(0,e.useState)(1e4),j=i[0],k=i[1],l=(0,e.useState)(!0),n=l[0],p=l[1];return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(x(),{children:[(0,d.jsx)("title",{children:"Mithril Explorer"}),(0,d.jsx)("meta",{name:"description",content:"Explore a Mithril Network"}),(0,d.jsx)("link",{rel:"icon",href:"/explorer/favicon.ico"})]}),(0,d.jsx)("div",{className:D().container,children:(0,d.jsxs)("main",{className:D().main,children:[(0,d.jsx)("h1",{className:D().title,children:"Mithril Explorer"}),(0,d.jsxs)(q.Z,{gap:3,children:[(0,d.jsx)(A.Z,{children:(0,d.jsxs)(o.Z,{xs:1,sm:2,children:[(0,d.jsx)(G,{aggregator:g,onAggregatorChange:a,availableAggregators:E}),(0,d.jsx)(F,{interval:j,onIntervalChange:c,isStartStopPressed:n,onStartStopPress:b})]})}),(0,d.jsx)(m,{aggregator:g,updateInterval:j,autoUpdate:n}),(0,d.jsx)(v,{aggregator:g,updateInterval:j,autoUpdate:n})]})]})}),(0,d.jsxs)("footer",{className:D().footer,children:[(0,d.jsx)("span",{className:D().logo,children:(0,d.jsx)(z(),{src:"/explorer/logo.png",alt:"Mithril Logo",width:32,height:32})})," ",(0,d.jsx)("a",{href:"https://mithril.network/doc",children:"Go back to mithril documentation"})]})]})}},214:function(a){a.exports={container:"Home_container__bCOhY",main:"Home_main__nLjiQ",footer:"Home_footer____T7K",title:"Home_title__T09hD",code:"Home_code__suPER",logo:"Home_logo__27_tb"}}},function(a){a.O(0,[479,774,888,179],function(){var b;return a(a.s=5557)}),_N_E=a.O()}])