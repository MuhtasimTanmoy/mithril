(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(2280)}])},2280:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return H}});var n=r(5893),s=r(7294),i=r(7337),a=r(7525),c=r(5968),o=r(1799),l=r(9396),h=r(7009),d=r(3489),g=r(5005);function x(e){return(0,n.jsx)(h.Z,{overlay:(0,n.jsx)(d.Z,{children:"Raw JSON"}),children:(0,n.jsx)(g.Z,(0,l.Z)((0,o.Z)({variant:"outline-secondary",target:"_blank"},e),{children:(0,n.jsx)("i",{class:"bi bi-filetype-json",style:{color:"black"}})}))})}function u(e){return(0,n.jsx)(h.Z,{overlay:(0,n.jsx)(d.Z,{children:e.tooltip}),children:(0,n.jsx)("a",{href:"#",className:"badge bg-success",children:(0,n.jsx)("i",{className:"bi bi-shield-lock"})})})}function j(e){var t=(0,s.useState)({}),r=t[0],o=t[1];return(0,s.useEffect)(function(){if(e.autoUpdate){var t=function(){fetch("".concat(e.aggregator,"/certificate-pending")).then(function(e){return 200===e.status?e.json():{}}).then(function(e){return o(e)}).catch(function(e){o({}),console.error("Fetch certificate-pending error:",e)})};t();var r=setInterval(t,e.updateInterval);return function(){return clearInterval(r)}}},[e.aggregator,e.updateInterval,e.autoUpdate]),(0,n.jsxs)("div",{className:e.className,children:[(0,n.jsxs)("h2",{children:["Pending Certificate",0!==Object.entries(r).length&&(0,n.jsx)(x,{href:"".concat(e.aggregator,"/certificate-pending"),variant:"outline-light",size:"sm"})]}),0===Object.entries(r).length?(0,n.jsx)("p",{children:"No pending certificate available"}):(0,n.jsxs)(i.Z,{children:[(0,n.jsx)(a.Z,{children:(0,n.jsxs)(a.Z.Body,{children:[(0,n.jsx)(a.Z.Title,{children:"Beacon"}),(0,n.jsxs)(c.Z,{className:"margin-bottom--md",variant:"flush",children:[(0,n.jsxs)(c.Z.Item,{children:["Network: ",r.beacon.network]}),(0,n.jsxs)(c.Z.Item,{children:["Epoch: ",r.beacon.epoch]}),(0,n.jsxs)(c.Z.Item,{children:["Immutable File Number: ",r.beacon.immutable_file_number]})]}),(0,n.jsx)(a.Z.Title,{children:"Protocol Parameters"}),(0,n.jsxs)(c.Z,{horizontal:!0,children:[(0,n.jsxs)(c.Z.Item,{children:["K: ",r.protocol.k]}),(0,n.jsxs)(c.Z.Item,{children:["M: ",r.protocol.m]}),(0,n.jsxs)(c.Z.Item,{children:["Phi: ",r.protocol.phi_f]})]})]})}),(0,n.jsx)(a.Z,{children:(0,n.jsxs)(a.Z.Body,{children:[(0,n.jsx)(a.Z.Title,{children:"Signers"}),0===r.signers.length?(0,n.jsx)("div",{children:"No Signers registered"}):(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(c.Z,{variant:"flush",children:[(0,n.jsx)(c.Z.Item,{children:(0,n.jsx)("b",{children:"Party id"})}),r.signers.map(function(e){return(0,n.jsxs)(c.Z.Item,{children:[e.party_id,e.verification_key_signature&&(0,n.jsx)("div",{className:"float-end",children:(0,n.jsx)(u,{tooltip:"Verified Signer"})})]},e.party_id)})]})})]})}),(0,n.jsx)(a.Z,{children:(0,n.jsxs)(a.Z.Body,{children:[(0,n.jsx)(a.Z.Title,{children:"Next Signers"}),0===r.next_signers.length?(0,n.jsx)("div",{children:"No Signers registered for next epoch"}):(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(c.Z,{variant:"flush",children:[(0,n.jsx)(c.Z.Item,{children:(0,n.jsx)("b",{children:"Party id"})}),r.next_signers.map(function(e){return(0,n.jsxs)(c.Z.Item,{children:[e.party_id,e.verification_key_signature&&(0,n.jsx)("div",{className:"float-end",children:(0,n.jsx)(u,{tooltip:"Verified Signer"})})]},e.party_id)})]})})]})})]})]})}var m=r(682),f=r(4051),p=r(1555),Z=r(478),v=r(7977),_=r(8710),b=r(5147);function N(e){var t=function(){e.onHashChange(a.previous_hash)},r=function(){e.onHashChange(void 0)},i=(0,s.useState)({}),a=i[0],o=i[1];return(0,s.useEffect)(function(){e.hash&&fetch("".concat(e.aggregator,"/certificate/").concat(e.hash)).then(function(e){return 200===e.status?e.json():{}}).then(function(e){return o(e)}).catch(function(e){o({}),console.error("Fetch certificate error:",e)})},[e.aggregator,e.hash]),(0,n.jsxs)(_.Z,{show:void 0!==e.hash,onHide:r,size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,n.jsx)(_.Z.Header,{className:"text-break",closeButton:!0,children:(0,n.jsxs)(_.Z.Title,{id:"contained-modal-title-vcenter",children:["Certificate ",a.hash]})}),(0,n.jsx)(_.Z.Body,{children:0===Object.entries(a).length?(0,n.jsx)("p",{children:"Not found"}):(0,n.jsx)(m.Z,{children:(0,n.jsxs)(f.Z,{md:1,xl:"auto",children:[(0,n.jsxs)(p.Z,{xl:4,children:[(0,n.jsx)("h4",{children:"Beacon"}),(0,n.jsxs)(c.Z,{className:"margin-bottom--md",variant:"flush",children:[(0,n.jsxs)(c.Z.Item,{children:["Network: ",a.beacon.network]}),(0,n.jsxs)(c.Z.Item,{children:["Epoch: ",a.beacon.epoch]}),(0,n.jsxs)(c.Z.Item,{children:["Immutable File Number: ",a.beacon.immutable_file_number]})]}),(0,n.jsx)("h4",{children:"Protocol Parameters"}),(0,n.jsxs)(c.Z,{horizontal:!0,children:[(0,n.jsxs)(c.Z.Item,{children:["K: ",a.metadata.parameters.k]}),(0,n.jsxs)(c.Z.Item,{children:["M: ",a.metadata.parameters.m]}),(0,n.jsxs)(c.Z.Item,{children:["Phi: ",a.metadata.parameters.phi_f]})]})]}),(0,n.jsxs)(p.Z,{xl:8,children:[(0,n.jsx)("h4",{children:"Signers"}),""!==a.genesis_signature?(0,n.jsx)("div",{children:"This is the chain Genesis Certificate, since it&aops;s manually created it doesn't contain any Signers."}):0===a.metadata.signers.length?(0,n.jsx)("div",{children:"No Signers for this certificate, something went wrong either with the data retrieval or the signing process"}):(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(b.Z,{responsive:!0,children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{}),(0,n.jsx)("th",{children:"Party id"}),(0,n.jsx)("th",{children:"Stake"})]})}),(0,n.jsx)("tbody",{children:a.metadata.signers.map(function(e){return(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:e.verification_key_signature&&(0,n.jsx)(u,{tooltip:"Verified Signer"})}),(0,n.jsx)("td",{children:e.party_id}),(0,n.jsx)("td",{children:e.stake})]},e.party_id)})})]})})]})]})})}),(0,n.jsxs)(_.Z.Footer,{children:[""!==a.genesis_signature?(0,n.jsx)(v.Z,{bg:"warning",children:"Genesis"}):(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(g.Z,{size:"sm",onClick:t,className:"text-break",children:["Previous hash: ",a.previous_hash]})}),(0,n.jsx)(x,{href:"".concat(e.aggregator,"/certificate/").concat(e.hash),size:"sm"})]})]})}function I(e){var t=function(e){u(e)},r=function(e){u(e)},i=(0,s.useState)([]),o=i[0],l=i[1],h=(0,s.useState)(void 0),d=h[0],u=h[1];return(0,s.useEffect)(function(){if(e.autoUpdate){var t=function(){fetch("".concat(e.aggregator,"/snapshots")).then(function(e){return e.json()}).then(function(e){return l(e)}).catch(function(e){l([]),console.error("Fetch snapshots error:",e)})};t();var r=setInterval(t,e.updateInterval);return function(){return clearInterval(r)}}},[e.aggregator,e.updateInterval,e.autoUpdate]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(N,{aggregator:e.aggregator,hash:d,onHashChange:t}),(0,n.jsxs)("div",{className:e.className,children:[(0,n.jsxs)("h2",{children:["Snapshots ",(0,n.jsx)(x,{href:"".concat(e.aggregator,"/snapshots"),variant:"outline-light",size:"sm"})]}),0===Object.entries(o).length?(0,n.jsx)("p",{children:"No snapshot available"}):(0,n.jsx)(m.Z,{fluid:!0,children:(0,n.jsx)(f.Z,{xs:1,md:2,lg:3,xl:4,children:o.map(function(t,s){return(0,n.jsx)(p.Z,{className:"mb-2",children:(0,n.jsxs)(a.Z,{border:0===s?"primary":"",children:[(0,n.jsxs)(a.Z.Body,{children:[(0,n.jsx)(a.Z.Title,{children:t.digest}),(0,n.jsxs)(c.Z,{variant:"flush",className:"data-list-group",children:[(0,n.jsxs)(c.Z.Item,{children:["Epoch: ",t.beacon.epoch]}),(0,n.jsxs)(c.Z.Item,{children:["Immutable File Number: ",t.beacon.immutable_file_number]}),(0,n.jsxs)(c.Z.Item,{children:["Certificate hash: ",(0,n.jsx)("br",{}),t.certificate_hash," ",(0,n.jsx)(g.Z,{size:"sm",onClick:function(){return r(t.certificate_hash)},children:"Show"})]}),(0,n.jsxs)(c.Z.Item,{children:["Created at: ",(0,n.jsx)("br",{})," ",new Date(t.created_at).toLocaleString()]}),(0,n.jsxs)(c.Z.Item,{children:["Size: ",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";var r=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,r)).toFixed(t<0?0:t))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][r]}(t.size)]})]})]}),(0,n.jsx)(a.Z.Footer,{children:(0,n.jsxs)(Z.Z,{direction:"horizontal",gap:1,children:[0===s&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(v.Z,{bg:"primary",children:"Latest"})," "]}),(0,n.jsx)(v.Z,{bg:"secondary",children:t.beacon.network}),(0,n.jsx)(x,{href:"".concat(e.aggregator,"/snapshot/").concat(t.digest),size:"sm",className:"ms-auto"})]})})]})},t.digest)})})})]})]})}var S=r(9008),y=r.n(S),k=r(5675),w=r.n(k),P=r(9301),C=r(1604),B=r(214),F=r.n(B),E=["https://aggregator.release-preprod.api.mithril.network/aggregator","https://aggregator.pre-release-preview.api.mithril.network/aggregator","https://aggregator.testing-preview.api.mithril.network/aggregator","https://aggregator.api.mithril.network/aggregator","http://localhost:8080/aggregator"];function z(e){var t=function(t){e.onIntervalChange(parseInt(t.target.value))},r=function(){e.onStartStopPress(!e.isStartStopPressed)};return(0,n.jsxs)(P.Z.Group,{as:p.Z,className:e.className,children:[(0,n.jsx)(P.Z.Label,{children:"Update Interval:"}),(0,n.jsxs)(C.Z,{children:[(0,n.jsx)(g.Z,{type:"button",onClick:r,variant:e.isStartStopPressed?"primary":"success",children:e.isStartStopPressed?"Pause ⏸":"Resume ▶"}),(0,n.jsxs)(P.Z.Select,{value:e.interval,onChange:t,children:[(0,n.jsx)("option",{value:1e3,children:"1 seconds"}),(0,n.jsx)("option",{value:5e3,children:"5 seconds"}),(0,n.jsx)("option",{value:1e4,children:"10 seconds"})]})]})]})}function T(e){var t=function(t){e.onAggregatorChange(t.target.value)};return(0,n.jsxs)(P.Z.Group,{as:p.Z,className:e.className,children:[(0,n.jsx)(P.Z.Label,{children:"Aggregator:"}),(0,n.jsx)(P.Z.Select,{value:e.aggregator,onChange:t,children:e.availableAggregators.map(function(e,t){return(0,n.jsx)("option",{value:e,children:e},"agg-"+t)})})]})}function H(){var e=function(e){c(e)},t=function(e){x(e)},r=function(e){h(e)},i=(0,s.useState)(E[0]),a=i[0],c=i[1],o=(0,s.useState)(1e4),l=o[0],h=o[1],d=(0,s.useState)(!0),g=d[0],x=d[1];return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(y(),{children:[(0,n.jsx)("title",{children:"Mithril Explorer"}),(0,n.jsx)("meta",{name:"description",content:"Explore a Mithril Network"}),(0,n.jsx)("link",{rel:"icon",href:"/explorer/favicon.ico"})]}),(0,n.jsx)("div",{className:F().container,children:(0,n.jsxs)("main",{className:F().main,children:[(0,n.jsx)("h1",{className:F().title,children:"Mithril Explorer"}),(0,n.jsxs)(Z.Z,{gap:3,children:[(0,n.jsx)(P.Z,{children:(0,n.jsxs)(f.Z,{xs:1,sm:2,children:[(0,n.jsx)(T,{aggregator:a,onAggregatorChange:e,availableAggregators:E}),(0,n.jsx)(z,{interval:l,onIntervalChange:r,isStartStopPressed:g,onStartStopPress:t})]})}),(0,n.jsx)(j,{aggregator:a,updateInterval:l,autoUpdate:g}),(0,n.jsx)(I,{aggregator:a,updateInterval:l,autoUpdate:g})]})]})}),(0,n.jsxs)("footer",{className:F().footer,children:[(0,n.jsx)("span",{className:F().logo,children:(0,n.jsx)(w(),{src:"/explorer/logo.png",alt:"Mithril Logo",width:32,height:32})})," ",(0,n.jsx)("a",{href:"https://mithril.network/doc",children:"Go back to mithril documentation"})]})]})}},214:function(e){e.exports={container:"Home_container__bCOhY",main:"Home_main__nLjiQ",footer:"Home_footer____T7K",title:"Home_title__T09hD",code:"Home_code__suPER",logo:"Home_logo__27_tb"}}},function(e){e.O(0,[507,774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);