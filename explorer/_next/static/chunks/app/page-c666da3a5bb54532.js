(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{80:function(e,t,s){Promise.resolve().then(s.bind(s,8436))},4402:function(e,t,s){"use strict";t.Z=["https://aggregator.release-mainnet.api.mithril.network/aggregator","https://aggregator.release-preprod.api.mithril.network/aggregator","https://aggregator.pre-release-preview.api.mithril.network/aggregator","https://aggregator.testing-preview.api.mithril.network/aggregator","http://localhost:8080/aggregator"]},8436:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return O}});var r=s(7437),i=s(2265),n=s(3198),a=s(4033),l=s(8864),c=s.n(l),h=s(4434),o=s(4665),d=s(8597),x=s(3839),g=s(613),j=s(864),u=s(507),m=s(2402),f=s(6716),p=s(7322),Z=s(7800);function v(e){return(0,r.jsx)(p.Z,{overlay:(0,r.jsx)(Z.Z,{children:"Raw JSON"}),children:(0,r.jsx)(f.Z,{variant:"outline-secondary",target:"_blank",...e,children:(0,r.jsx)("i",{className:"bi bi-filetype-json",style:{color:"black"}})})})}function b(e){let{protocolParameters:t}=e;return(0,r.jsxs)(m.Z,{horizontal:!0,children:[(0,r.jsxs)(m.Z.Item,{children:["k: ",null==t?void 0:t.k]}),(0,r.jsxs)(m.Z.Item,{children:["m: ",null==t?void 0:t.m]}),(0,r.jsxs)(m.Z.Item,{children:["f: ",null==t?void 0:t.phi_f]})]})}var y=s(6641);function k(e){let[t,s]=(0,i.useState)({}),a=(0,n.v9)(e=>"".concat((0,y.k6)(e),"/epoch-settings")),l=(0,n.v9)(e=>e.settings.autoUpdate),c=(0,n.v9)(e=>e.settings.updateInterval);return(0,i.useEffect)(()=>{if(!l)return;let e=()=>{fetch(a).then(e=>200===e.status?e.json():{}).then(e=>s(e)).catch(e=>{s({}),console.error("Fetch epoch-settings error:",e)})};e();let t=setInterval(e,c);return()=>clearInterval(t)},[a,c,l]),(0,r.jsxs)("div",{children:[(0,r.jsxs)("h2",{children:["Epoch Settings",(0,r.jsx)(v,{href:a,variant:"outline-light",size:"sm"})]}),(0,r.jsx)(u.Z,{children:(0,r.jsxs)(u.Z.Body,{children:[(0,r.jsx)(u.Z.Title,{children:"Current Epoch"}),(0,r.jsx)(m.Z,{variant:"flush",children:(0,r.jsx)(m.Z.Item,{children:t.epoch})}),(0,r.jsx)(u.Z.Title,{children:"Protocol Parameters"}),(0,r.jsx)(b,{protocolParameters:t.protocol}),(0,r.jsx)(u.Z.Title,{children:"Next Protocol Parameters"}),(0,r.jsx)(b,{protocolParameters:t.next_protocol})]})})]})}var I=s(8402);function S(e){let{signedEntityType:t}=e,[s,n]=(0,i.useState)(""),[a,l]=(0,i.useState)({});return(0,i.useEffect)(()=>{let e=Object.keys(t).at(0);if(n(e),"MithrilStakeDistribution"===e||"CardanoStakeDistribution"===e)l({epoch:t[e]});else{var s;l(null!==(s=t[e])&&void 0!==s?s:{})}},[t]),(0,r.jsxs)(m.Z,{children:[(0,r.jsx)(m.Z.Item,{children:(0,r.jsx)("h6",{children:s})}),(0,r.jsx)(m.Z.Item,{children:(0,r.jsx)(m.Z,{horizontal:"xxl",children:Object.entries(a).map(e=>{let[t,s]=e;return(0,r.jsxs)(m.Z.Item,{children:[t,": ",s]},t)})})})]})}function _(e){return(0,r.jsx)(p.Z,{overlay:(0,r.jsx)(Z.Z,{children:e.tooltip}),children:(0,r.jsx)("a",{href:"#",className:"badge bg-success",children:(0,r.jsx)("i",{className:"bi bi-shield-lock"})})})}function N(e){let[t,s]=(0,i.useState)({}),a=(0,n.v9)(e=>"".concat((0,y.k6)(e),"/certificate-pending")),l=(0,n.v9)(e=>e.settings.autoUpdate),c=(0,n.v9)(e=>e.settings.updateInterval);return(0,i.useEffect)(()=>{if(!l)return;let e=()=>{fetch(a).then(e=>200===e.status?e.json():{}).then(e=>s(e)).catch(e=>{s({}),console.error("Fetch certificate-pending error:",e)})};e();let t=setInterval(e,c);return()=>clearInterval(t)},[a,c,l]),(0,r.jsxs)("div",{className:e.className,children:[(0,r.jsxs)("h2",{children:["Pending Certificate",0!==Object.entries(t).length&&(0,r.jsx)(v,{href:a,variant:"outline-light",size:"sm"})]}),0===Object.entries(t).length?(0,r.jsx)("p",{children:"No pending certificate available"}):(0,r.jsxs)(I.Z,{children:[(0,r.jsx)(u.Z,{children:(0,r.jsxs)(u.Z.Body,{children:[(0,r.jsx)(u.Z.Title,{children:"Beacon"}),(0,r.jsxs)(m.Z,{className:"margin-bottom--md",variant:"flush",children:[(0,r.jsxs)(m.Z.Item,{children:["Network: ",t.beacon.network]}),(0,r.jsxs)(m.Z.Item,{children:["Epoch: ",t.beacon.epoch]})]}),(0,r.jsx)(u.Z.Title,{children:"Entity Type"}),(0,r.jsx)(S,{signedEntityType:t.entity_type})]})}),(0,r.jsx)(u.Z,{children:(0,r.jsxs)(u.Z.Body,{children:[(0,r.jsx)(u.Z.Title,{children:"Signers"}),0===t.signers.length?(0,r.jsx)("div",{children:"No Signers registered"}):(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(m.Z,{variant:"flush",children:[(0,r.jsx)(m.Z.Item,{children:(0,r.jsx)("b",{children:"Party id"})}),t.signers.map(e=>(0,r.jsxs)(m.Z.Item,{children:[e.party_id,e.verification_key_signature&&(0,r.jsx)("div",{className:"float-end",children:(0,r.jsx)(_,{tooltip:"Verified Signer"})})]},e.party_id))]})})]})}),(0,r.jsx)(u.Z,{children:(0,r.jsxs)(u.Z.Body,{children:[(0,r.jsx)(u.Z.Title,{children:"Next Signers"}),0===t.next_signers.length?(0,r.jsx)("div",{children:"No Signers registered for next epoch"}):(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(m.Z,{variant:"flush",children:[(0,r.jsx)(m.Z.Item,{children:(0,r.jsx)("b",{children:"Party id"})}),t.next_signers.map(e=>(0,r.jsxs)(m.Z.Item,{children:[e.party_id,e.verification_key_signature&&(0,r.jsx)("div",{className:"float-end",children:(0,r.jsx)(_,{tooltip:"Verified Signer"})})]},e.party_id))]})})]})})]})]})}var w=s(3761),E=s(2824),F=s(4614),B=s(1387);function A(e){let[t,s]=(0,i.useState)({}),a=(0,n.v9)(t=>"".concat((0,y.k6)(t),"/certificate/").concat(e.hash));return(0,i.useEffect)(()=>{e.hash&&fetch(a).then(e=>200===e.status?e.json():{}).then(e=>s(e)).catch(e=>{s({}),console.error("Fetch certificate error:",e)})},[a,e.hash]),(0,r.jsxs)(F.Z,{show:void 0!==e.hash,onHide:function(){e.onHashChange(void 0)},size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,r.jsx)(F.Z.Header,{className:"text-break",closeButton:!0,children:(0,r.jsxs)(F.Z.Title,{id:"contained-modal-title-vcenter",children:["Certificate ",t.hash]})}),(0,r.jsx)(F.Z.Body,{children:0===Object.entries(t).length?(0,r.jsx)("p",{children:"Not found"}):(0,r.jsx)(E.Z,{children:(0,r.jsxs)(d.Z,{md:1,xl:"auto",children:[(0,r.jsxs)(h.Z,{xl:4,children:[(0,r.jsx)("h4",{children:"Beacon"}),(0,r.jsxs)(m.Z,{className:"margin-bottom--md",variant:"flush",children:[(0,r.jsxs)(m.Z.Item,{children:["Network: ",t.beacon.network]}),(0,r.jsxs)(m.Z.Item,{children:["Epoch: ",t.beacon.epoch]}),(0,r.jsxs)(m.Z.Item,{children:["Immutable File Number: ",t.beacon.immutable_file_number]})]}),(0,r.jsx)("h4",{children:"Protocol Parameters"}),(0,r.jsx)(b,{protocolParameters:t.metadata.parameters})]}),(0,r.jsxs)(h.Z,{xl:8,children:[(0,r.jsx)("h4",{children:"Signers"}),""!==t.genesis_signature?(0,r.jsx)("div",{children:"This is the chain Genesis Certificate, since it's manually created it doesn't contain any Signers."}):0===t.metadata.signers.length?(0,r.jsx)("div",{children:"No Signers for this certificate, something went wrong either with the data retrieval or the signing process"}):(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(B.Z,{responsive:!0,children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{}),(0,r.jsx)("th",{children:"Party id"}),(0,r.jsx)("th",{children:"Stake"})]})}),(0,r.jsx)("tbody",{children:t.metadata.signers.map(e=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:e.verification_key_signature&&(0,r.jsx)(_,{tooltip:"Verified Signer"})}),(0,r.jsx)("td",{children:e.party_id}),(0,r.jsx)("td",{children:e.stake})]},e.party_id))})]})})]})]})})}),(0,r.jsxs)(F.Z.Footer,{children:[""!==t.genesis_signature?(0,r.jsx)(w.Z,{bg:"warning",children:"Genesis"}):(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(f.Z,{size:"sm",onClick:function(){e.onHashChange(t.previous_hash)},className:"text-break",children:["Previous hash: ",t.previous_hash]})}),(0,r.jsx)(v,{href:a,size:"sm"})]})]})}function C(e){let{datetime:t}=e;return(0,r.jsx)(r.Fragment,{children:new Date(t).toLocaleString()})}function P(e){let[t,s]=(0,i.useState)([]),[a,l]=(0,i.useState)(void 0),c=(0,n.v9)(y.k6),o=(0,n.v9)(e=>"".concat((0,y.k6)(e),"/artifact/snapshots")),g=(0,n.v9)(e=>e.settings.autoUpdate),j=(0,n.v9)(e=>e.settings.updateInterval);return(0,i.useEffect)(()=>{if(!g)return;let e=()=>{fetch(o).then(e=>e.json()).then(e=>s(e)).catch(e=>{s([]),console.error("Fetch snapshots error:",e)})};e();let t=setInterval(e,j);return()=>clearInterval(t)},[o,j,g]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(A,{hash:a,onHashChange:function(e){l(e)}}),(0,r.jsxs)("div",{className:e.className,children:[(0,r.jsxs)("h2",{children:["Snapshots ",(0,r.jsx)(v,{href:o,variant:"outline-light",size:"sm"})]}),0===Object.entries(t).length?(0,r.jsx)("p",{children:"No snapshot available"}):(0,r.jsx)(E.Z,{fluid:!0,children:(0,r.jsx)(d.Z,{xs:1,md:2,lg:3,xl:4,children:t.map((e,t)=>(0,r.jsx)(h.Z,{className:"mb-2",children:(0,r.jsxs)(u.Z,{border:0===t?"primary":"",children:[(0,r.jsxs)(u.Z.Body,{children:[(0,r.jsx)(u.Z.Title,{children:e.digest}),(0,r.jsxs)(m.Z,{variant:"flush",className:"data-list-group",children:[(0,r.jsxs)(m.Z.Item,{children:["Epoch: ",e.beacon.epoch]}),(0,r.jsxs)(m.Z.Item,{children:["Immutable File Number: ",e.beacon.immutable_file_number]}),(0,r.jsxs)(m.Z.Item,{children:["Certificate hash: ",(0,r.jsx)("br",{}),e.certificate_hash," ",(0,r.jsx)(f.Z,{size:"sm",onClick:()=>{l(e.certificate_hash)},children:"Show"})]}),(0,r.jsxs)(m.Z.Item,{children:["Created: ",(0,r.jsx)(C,{datetime:e.created_at})]}),(0,r.jsxs)(m.Z.Item,{children:["Size: ",function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";let s=t<0?0:t,r=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,r)).toFixed(s))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][r]}(e.size)]})]})]}),(0,r.jsx)(u.Z.Footer,{children:(0,r.jsxs)(x.Z,{direction:"horizontal",gap:1,children:[0===t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(w.Z,{bg:"primary",children:"Latest"})," "]}),(0,r.jsx)(w.Z,{bg:"secondary",children:e.beacon.network}),(0,r.jsx)(v,{href:"".concat(c,"/snapshot/").concat(e.digest),size:"sm",className:"ms-auto"})]})})]})},e.digest))})})]})]})}function z(e){let[t,s]=(0,i.useState)([]),[a,l]=(0,i.useState)(void 0),c=(0,n.v9)(y.k6),o=(0,n.v9)(e=>"".concat((0,y.k6)(e),"/artifact/mithril-stake-distributions")),g=(0,n.v9)(e=>e.settings.autoUpdate),j=(0,n.v9)(e=>e.settings.updateInterval);return(0,i.useEffect)(()=>{if(!g)return;let e=()=>{fetch(o).then(e=>e.json()).then(e=>s(e)).catch(e=>{s([]),console.error("Fetch mithrilStakeDistributions error:",e)})};e();let t=setInterval(e,j);return()=>clearInterval(t)},[o,j,g]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(A,{aggregator:c,hash:a,onHashChange:function(e){l(e)}}),(0,r.jsxs)("div",{className:e.className,children:[(0,r.jsxs)("h2",{children:["Mithril Stake Distribution ",(0,r.jsx)(v,{href:o,variant:"outline-light",size:"sm"})]}),0===Object.entries(t).length?(0,r.jsx)("p",{children:"No mithril stake distribution available"}):(0,r.jsx)(E.Z,{fluid:!0,children:(0,r.jsx)(d.Z,{xs:1,md:2,lg:3,xl:4,children:t.map((e,t)=>(0,r.jsx)(h.Z,{className:"mb-2",children:(0,r.jsxs)(u.Z,{border:0===t?"primary":"",children:[(0,r.jsxs)(u.Z.Body,{children:[(0,r.jsx)(u.Z.Title,{children:e.hash}),(0,r.jsxs)(m.Z,{variant:"flush",className:"data-list-group",children:[(0,r.jsxs)(m.Z.Item,{children:["Epoch: ",e.epoch]}),e.created_at&&(0,r.jsxs)(m.Z.Item,{children:["Created: ",(0,r.jsx)(C,{datetime:e.created_at})]}),(0,r.jsxs)(m.Z.Item,{children:["Certificate hash: ",(0,r.jsx)("br",{}),e.certificate_hash," ",(0,r.jsx)(f.Z,{size:"sm",onClick:()=>{l(e.certificate_hash)},children:"Show"})]})]})]}),(0,r.jsx)(u.Z.Footer,{children:(0,r.jsxs)(x.Z,{direction:"horizontal",gap:1,children:[0===t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(w.Z,{bg:"primary",children:"Latest"})," "]}),(0,r.jsx)(v,{href:"".concat(c,"/artifact/mithril-stake-distribution/").concat(e.hash),size:"sm",className:"ms-auto"})]})})]})},e.hash))})})]})]})}let T=c()(()=>s.e(38).then(s.bind(s,38)),{loadableGenerated:{webpack:()=>[38]},ssr:!1}),U=c()(()=>s.e(758).then(s.bind(s,5758)),{loadableGenerated:{webpack:()=>[5758]},ssr:!1});function O(){let e=(0,a.useRouter)(),t=(0,a.useSearchParams)(),s=(0,n.I0)(),[l,c]=(0,i.useState)(!1),u=(0,n.v9)(y.k6);return(0,i.useEffect)(()=>{let s=t.get("aggregator");if(u!==s){let t=new URLSearchParams;t.set("aggregator",u),c(!0),e.push("?"+t.toString(),void 0,{shallow:!0})}},[u]),(0,i.useEffect)(()=>{if(l)c(!1);else{let e=t.get("aggregator");s((0,y.VT)(e))}},[t]),(0,r.jsxs)(x.Z,{gap:3,children:[(0,r.jsx)(o.Z,{children:(0,r.jsxs)(d.Z,{xs:1,sm:2,children:[(0,r.jsx)(T,{}),(0,r.jsx)(U,{})]})}),(0,r.jsxs)(d.Z,{children:[(0,r.jsx)(h.Z,{xs:12,sm:4,lg:3,xl:2,children:(0,r.jsx)(k,{})}),(0,r.jsx)(h.Z,{xs:12,sm:8,lg:9,xl:10,children:(0,r.jsx)(N,{})})]}),(0,r.jsxs)(j.Z,{defaultActiveKey:"snapshots",children:[(0,r.jsx)(g.Z,{title:"Snapshots",eventKey:"snapshots",children:(0,r.jsx)(P,{})}),(0,r.jsx)(g.Z,{title:"Mithril Stake Distribution",eventKey:"mithrilStakeDistribution",children:(0,r.jsx)(z,{})})]})]})}},6641:function(e,t,s){"use strict";s.d(t,{E3:function(){return a},JV:function(){return c},OR:function(){return d},VT:function(){return o},k6:function(){return x},uI:function(){return h},xj:function(){return l}});var r=s(64),i=s(4402),n=s(3956);let a={autoUpdate:!0,updateInterval:1e4,selectedAggregator:i.Z[0],availableAggregators:i.Z,canRemoveSelected:!1},l=(0,r.oM)({name:"settings",initialState:a,reducers:{setUpdateInterval:(e,t)=>{e.updateInterval=t.payload},toggleAutoUpdate:e=>{e.autoUpdate=!e.autoUpdate},selectAggregator:(e,t)=>{if(!(0,n.checkUrl)(t.payload))return e;let s=e.availableAggregators.includes(t.payload)?e.availableAggregators:[...e.availableAggregators,t.payload];return{...e,selectedAggregator:t.payload,availableAggregators:s,canRemoveSelected:!i.Z.includes(t.payload)}},removeSelectedAggregator:e=>i.Z.includes(e.selectedAggregator)?e:{...e,selectedAggregator:e.availableAggregators.at(0),availableAggregators:e.availableAggregators.filter(t=>t!==e.selectedAggregator),canRemoveSelected:!i.Z.includes(e.availableAggregators.at(0))}}}),{setUpdateInterval:c,toggleAutoUpdate:h,selectAggregator:o,removeSelectedAggregator:d}=l.actions,x=e=>e.settings.selectedAggregator;l.reducer},3956:function(e){"use strict";e.exports={checkUrl:function(e){try{return new URL(e),!0}catch(e){return!1}}}}},function(e){e.O(0,[239,750,971,596,744],function(){return e(e.s=80)}),_N_E=e.O()}]);