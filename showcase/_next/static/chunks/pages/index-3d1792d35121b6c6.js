(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return c(7746)}])},7746:function(a,b,c){"use strict";c.r(b),c.d(b,{default:function(){return B}});var d=c(5893),e=c(7294),f=c(7337),g=c(545),h=c(6149);function i(a){var b=(0,e.useState)({}),c=b[0],i=b[1];return(0,e.useEffect)(function(){if(a.autoUpdate){var b=function(){fetch("".concat(a.aggregator,"/certificate-pending")).then(function(a){return 200===a.status?a.json():{}}).then(function(a){return i(a)}).catch(function(a){i({}),console.error("Fetch certificate-pending error:",a)})};b();var c=setInterval(b,a.updateInterval);return function(){return clearInterval(c)}}},[a.aggregator,a.updateInterval,a.autoUpdate]),(0,d.jsxs)("div",{className:a.className,children:[(0,d.jsx)("h2",{children:"Pending Certificate"}),0===Object.entries(c).length?(0,d.jsx)("p",{children:"No pending certificate available"}):(0,d.jsxs)(f.Z,{children:[(0,d.jsx)(g.Z,{children:(0,d.jsxs)(g.Z.Body,{children:[(0,d.jsx)(g.Z.Title,{children:"Beacon"}),(0,d.jsxs)("div",{children:["Network: ",c.beacon.network]}),(0,d.jsxs)("div",{children:["Epoch: ",c.beacon.epoch]}),(0,d.jsxs)("div",{children:["Immutable File Number: ",c.beacon.immutable_file_number]})]})}),(0,d.jsx)(g.Z,{children:(0,d.jsxs)(g.Z.Body,{children:[(0,d.jsx)(g.Z.Title,{children:"Protocol Parameters"}),(0,d.jsxs)("div",{children:["K: ",c.protocol.k]}),(0,d.jsxs)("div",{children:["M: ",c.protocol.m]}),(0,d.jsxs)("div",{children:["Phi: ",c.protocol.phi_f]})]})}),(0,d.jsx)(g.Z,{children:(0,d.jsxs)(g.Z.Body,{children:[(0,d.jsx)(g.Z.Title,{children:"Signers"}),0===c.signers.length?(0,d.jsx)("div",{children:"No Signers registered"}):(0,d.jsx)(h.Z,{children:c.signers.map(function(a){return(0,d.jsxs)(h.Z.Item,{children:["Party id: ",a.party_id]},a.party_id)})})]})})]})]})}var j=c(682),k=c(1608),l=c(1555),m=c(7977);function n(a){var b=(0,e.useState)([]),c=b[0],f=b[1];return(0,e.useEffect)(function(){if(a.autoUpdate){var b=function(){fetch("".concat(a.aggregator,"/snapshots")).then(function(a){return a.json()}).then(function(a){return f(a)}).catch(function(a){f([]),console.error("Fetch snapshots error:",a)})};b();var c=setInterval(b,a.updateInterval);return function(){return clearInterval(c)}}},[a.aggregator,a.updateInterval,a.autoUpdate]),(0,d.jsxs)("div",{className:a.className,children:[(0,d.jsx)("h2",{children:"Snapshots"}),0===Object.entries(c).length?(0,d.jsx)("p",{children:"No snapshot available"}):(0,d.jsx)(j.Z,{fluid:!0,children:(0,d.jsx)(k.Z,{xs:1,md:2,lg:3,xl:4,children:c.map(function(a,b){return(0,d.jsx)(l.Z,{className:"mb-2",children:(0,d.jsxs)(g.Z,{border:0===b?"primary":"",children:[(0,d.jsxs)(g.Z.Body,{children:[(0,d.jsx)(g.Z.Title,{children:a.digest}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{children:["Epoch: ",a.beacon.epoch]}),(0,d.jsxs)("div",{children:["Immutable File Number: ",a.beacon.immutable_file_number]}),(0,d.jsxs)("div",{children:["Certificate hash: ",(0,d.jsx)("br",{})," ",a.certificate_hash]}),(0,d.jsxs)("div",{children:["Created at: ",(0,d.jsx)("br",{})," ",new Date(a.created_at).toLocaleString()]}),(0,d.jsxs)("div",{children:["Size: ",function(a){var b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:2;if(0===a)return"0 Bytes";var c=1024,d=b<0?0:b,e=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],f=Math.floor(Math.log(a)/Math.log(c));return parseFloat((a/Math.pow(c,f)).toFixed(d))+" "+e[f]}(a.size)]})]})]}),(0,d.jsxs)(g.Z.Footer,{children:[0===b&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(m.Z,{bg:"primary",children:"Latest"})," "]}),(0,d.jsx)(m.Z,{bg:"secondary",children:a.beacon.network})]})]})},a.digest)})})})]})}var o=c(214),p=c.n(o),q=c(9008),r=c.n(q),s=c(9301),t=c(1604),u=c(5005),v=c(478),w=c(5675),x=c.n(w),y=["http://aggregator.api.mithril.network/aggregator","http://localhost:8080/aggregator"];function z(a){var b=function(b){a.onIntervalChange(parseInt(b.target.value))},c=function(){a.onStartStopPress(!a.isStartStopPressed)};return(0,d.jsxs)(s.Z.Group,{as:l.Z,className:a.className,children:[(0,d.jsx)(s.Z.Label,{children:"Update Interval:"}),(0,d.jsxs)(t.Z,{children:[(0,d.jsx)(u.Z,{type:"button",onClick:c,variant:a.isStartStopPressed?"primary":"success",children:a.isStartStopPressed?"Pause ⏸":"Resume ▶"}),(0,d.jsxs)(s.Z.Select,{value:a.interval,onChange:b,children:[(0,d.jsx)("option",{value:1e3,children:"1 seconds"}),(0,d.jsx)("option",{value:5e3,children:"5 seconds"}),(0,d.jsx)("option",{value:1e4,children:"10 seconds"})]})]})]})}function A(a){var b=function(b){a.onAggregatorChange(b.target.value)};return(0,d.jsxs)(s.Z.Group,{as:l.Z,className:a.className,children:[(0,d.jsx)(s.Z.Label,{children:"Aggregator:"}),(0,d.jsx)(s.Z.Select,{value:a.aggregator,onChange:b,children:a.availableAggregators.map(function(a,b){return(0,d.jsx)("option",{value:a,children:a},"agg-"+b)})})]})}function B(){var a=function(a){h(a)},b=function(a){t(a)},c=function(a){m(a)},f=(0,e.useState)(y[0]),g=f[0],h=f[1],j=(0,e.useState)(1e4),l=j[0],m=j[1],o=(0,e.useState)(!0),q=o[0],t=o[1];return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(r(),{children:[(0,d.jsx)("title",{children:"Mithril Showcase"}),(0,d.jsx)("meta",{name:"description",content:"Showcase of a Mithril Network"}),(0,d.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,d.jsx)("div",{className:p().container,children:(0,d.jsxs)("main",{className:p().main,children:[(0,d.jsx)("h1",{className:p().title,children:"Mithril Showcase"}),(0,d.jsxs)(v.Z,{gap:3,children:[(0,d.jsx)(s.Z,{children:(0,d.jsxs)(k.Z,{xs:1,sm:2,children:[(0,d.jsx)(A,{aggregator:g,onAggregatorChange:a,availableAggregators:y}),(0,d.jsx)(z,{interval:l,onIntervalChange:c,isStartStopPressed:q,onStartStopPress:b})]})}),(0,d.jsx)(i,{aggregator:g,updateInterval:l,autoUpdate:q}),(0,d.jsx)(n,{aggregator:g,updateInterval:l,autoUpdate:q})]})]})}),(0,d.jsxs)("footer",{className:p().footer,children:[(0,d.jsx)("span",{className:p().logo,children:(0,d.jsx)(x(),{src:"/logo.png",alt:"Mithril Logo",width:32,height:32})})," ",(0,d.jsx)("a",{href:"https://mithril.network/doc",children:"Go back to mithril documentation"})]})]})}},214:function(a){a.exports={container:"Home_container__bCOhY",main:"Home_main__nLjiQ",footer:"Home_footer____T7K",title:"Home_title__T09hD",code:"Home_code__suPER",logo:"Home_logo__27_tb"}}},function(a){a.O(0,[170,774,888,179],function(){var b;return a(a.s=5557)}),_N_E=a.O()}])